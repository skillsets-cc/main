# index.ts

## Purpose
Defines TypeScript interfaces for skillsets, search index, and related data structures. Provides type safety across the site module for skillset metadata, verification, and search index entries.

## Public API
| Export | Type | Description |
|--------|------|-------------|
| `SearchIndex` | interface | Root search index structure (version, generated_at, skillsets array) |
| `SearchIndexEntry` | interface | Skillset entry in search index (id, name, description, verification, checksum, files) |

## Dependencies
- **Internal**: None (pure types)
- **External**: None

## Integration Points
- **Used by**:
  - `lib/data.ts` (type imports for search index access)
  - `pages/index.astro`, `pages/browse.astro`, `pages/skillset/[namespace]/[name].astro` (type-safe props)
  - `components/SkillsetGrid.tsx` (component props)
- **Consumes**: No external services
- **Emits**: No events

## Key Logic

### SearchIndex Interface
- `version`: Index schema version
- `generated_at`: ISO timestamp of index generation
- `skillsets`: Array of SearchIndexEntry objects

### SearchIndexEntry Interface
Contains all skillset metadata for search and display:
- **Identity**: `id` (namespace/name), `name`, `version`, `description`, `status`
- **Discovery**: `tags` array, `author` object (handle, url)
- **Verification**: `verification` object with production_links, production_proof, audit_report
- **Compatibility**: `compatibility` object with claude_code_version, languages
- **Install**: `entry_point` path, `checksum` hash, `files` record (path â†’ checksum)
- **Metrics**: `stars` count (hydrated from KV at build time)

### Verification Structure
- `production_links`: Array of {url, label?} for deployed examples
- `production_proof`: Optional path to proof document
- `audit_report`: Required path to audit report (generated by /audit-skill)

### Compatibility Structure
- `claude_code_version`: Semver range (e.g., ">=1.0.0")
- `languages`: Array of language identifiers (["any"] for language-agnostic)
